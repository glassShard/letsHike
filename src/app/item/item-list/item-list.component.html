 <div class="container title-and-search">
  <h1 class="display-4">Cuccok</h1>
  <div class="row ">
    <div class="col-sm-3">
      <button class="btn btn-primary btn-block mt-2" type="button" (click)="isCollapsed = !isCollapsed" data-toggle="collapse" data-target="#categories" aria-expanded="false" aria-controls="categories" >Kategóriák</button>
    </div>
    <div class="col-sm-6">
      <div class="input-group mt-2">
        <input type="text" class="form-control" placeholder="Keress itt..." aria-label="Kereső" aria-describedby="basic-addon2">
        <div class="input-group-append">
          <button class="btn btn-outline-primary" type="button">Keresés</button>
        </div>
      </div>
    </div>
    <div class="col-sm-3">
      <a routerLink="./new" class="btn btn-success btn-block mt-2">Új hirdetés</a>
    </div>
  </div>
</div>

<div [collapse]="isCollapsed" class="container collapse" id="categories">
  <div class="row">
    <div class="col-sm-6 col-md-3 col-lg-2" *ngFor="let it of itemCategories">
      <div class="card categories text-center">
        <img class="card-img-top" [src]="it.picUrl"
             alt="Card image cap">
        <div class="card-body">
          <p>{{it.category}}</p>
        </div>
      </div>
    </div>

  </div>
</div>

<ng-container
  *ngIf="(itemsGrouppedBy2$ | async)?.length && (!isLoggedIn || isLoggedIn && currentUserId); else loading">
  <div class="container">
    <div class="row"
         *ngFor="let itg of itemsGrouppedBy2$ | async">
      <div class="col-lg-6 card-deck-container" *ngFor="let it of itg">
        <div class="card-deck card-deck-item-list">
          <app-item-card class="card"
                         *ngFor="let i of it"
                         [cucc]="i"
                         [currentUserId]="currentUserId"></app-item-card>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loading>
  <app-loading-spinner></app-loading-spinner>
</ng-template>
